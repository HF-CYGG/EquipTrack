# EquipTrack 资产管理项目书（README 扩展版，按自然段分段）

本文档以“项目书 + README”的形式进行系统性阐述，采用自然段分段叙述，不使用条列式清单，以更贴近项目书的阅读习惯与评审场景。内容覆盖项目简介、应用范围与目标、用户角色与权限、功能模块与范围、技术架构与栈、数据模型与接口约定、关键用户流程、部署与运行方案、安全与合规策略、性能与可靠性设计、日志与监控与告警、运维与发布、测试与验收、里程碑与版本规划、风险与应对策略、使用指南、常见问题、术语表、未来扩展与生态以及结语。文档针对企业与机构的固定资产与可借用物资管理问题，强调在规范性、可审计性与可扩展性之间的平衡，并兼顾 Android 客户端的离线能力与后端服务的稳定性。

项目整体目标是建立一套面向多部门、多角色的资产管理系统，通过标准化台账、智能借还流程、审批留痕与历史追溯，消除传统纸面与分散表格带来的信息孤岛与流程低效。系统在移动端提供现代化、易上手的操作体验，支持拍照存证与离线运行，并在接入后端后按真实数据模式进行同步与权限控制；在后端侧提供模块化的业务能力与开放 API，保障联调、部署与运维的持续稳定。项目以规范台账为基础，以流程管控为抓手，同时以数据驱动为方向，逐步沉淀出面向运营与审计的报表与监控体系。

在应用范围方面，系统适用于办公设备、工具器材与试验仪器等固定资产的台账维护与生命周期管理，也适用于耗材、样品与设备配件等可借用物资的申请与归还。通过跨部门协同与审批机制，可以覆盖行政、技术、财务、实验室与仓储等部门的协同场景；在盘点与专项核查环节，系统支持根据任务特性进行场景化操作与异常上报，便于年度盘点与专项整治的落地。项目的目标不仅是把资产与物资的静态信息录入系统，更重要的是实现动态的借还、审批与审计闭环，让管理者能够掌握流转中的关键节点与风险点，并据此进行策略优化。

用户角色与权限方面，系统采用分级授权模型以匹配不同职责与管理边界。超级管理员负责全局配置与策略设定，对跨部门的资产与用户拥有管理权限，并承担审批规则与审计总览的维护。部门管理员负责本部门的资产台账、用户与审批处理，可以发起盘点、导出数据与生成报表。高级用户可以发起借用、归还、报修与报废申请，并参与盘点与异常上报等关键活动；普通用户则可进行资产浏览、状态查询与基础的借还申请。系统遵循最小权限原则，确保各角色仅被授予完成职责所需的最小操作集合，并通过审批留痕与日志记录实现关键行为的可追溯性与合规性，从而达到既安全又高效的管理效果。

在功能模块与范围方面，系统围绕“台账、流程、审计、配置”展开。台账管理覆盖资产或物资的信息录入与维护，包括名称、编号、类别、部门、存放地点与状态等基础属性，同时支持图片、采购与保修信息等扩展字段，以满足不同组织的细化需求。系统支持多级分类与标签，帮助用户以自然语言或多维条件进行检索与筛选，并提供批量导入与导出功能，便于从历史数据迁移或生成报表。借用与归还功能强调流程的完整性与可审计性，借用申请包含用途与预计归还时间等关键信息，归还动作则使用拍照机制进行存证；逾期管理通过自动检测与提醒实现风险控制，并可根据策略进行催办与升级。审批中心统一承载借用、归还、报修、报废与调拨等申请的处理，对不同部门或类别的差异化流程进行配置；所有审批记录均写入历史并可触发通知，以便及时联动管理者与申请人。历史与审计模块以时间轴或报表形式呈现借还记录与操作日志，同时提供导出与留痕查询，支撑稽核与合规对照。设置与配置模块允许用户在设置页调整后端地址、主题与语言等偏好，并启用或关闭本地调试模式，系统会在设置变化时触发相关模块的同步，以保持数据一致。

技术架构与栈方面，Android 客户端采用 Kotlin 与 Jetpack Compose 的现代技术栈，配合 Material 3 的视觉规范，以 MVVM 与 Repository 模式进行分层，Hilt 用于依赖注入，Room 用于本地存储与离线能力，Retrofit 与 OkHttp 用于网络通信与接口对接，Coroutines 与 Flow 用于异步与响应式流处理，CameraX 用于借还与验收环节的拍照存证，Coil 用于图片加载与缓存。后端服务采用模块化设计，包含认证、部门、类别、物资、审批与借用历史等核心模块，统一使用 RESTful 风格的接口与标准响应结构，配合环境变量与日志规范实现多环境部署与联调。服务器提供健康检查接口，结合结构化与滚动日志文件进行运行状态监控与故障定位，形成从客户端到服务端的完整观察与诊断链路。

数据模型与接口约定方面，系统使用核心实体与辅助关系的组合设计，以确保模型的可扩展与审计的可落地。物资或资产实体包含标识、名称与编码、类别与部门的关联、位置与状态信息、图片集合、采购与保修信息、标签集合以及创建与更新时间戳等字段，能够支持从台账维护到盘点审计的多维需求。借用记录实体描述物资在某次借出与归还之间的状态变迁，包含申请者与责任人信息、借用用途、预计归还时间与实际归还时间、拍照证据与审批关联、备注与状态等要素，从而在历史追溯时能完整还原流程。审批实体用于串联不同类型的审批申请，例如借用、归还、报修、报废或调拨，并以申请人与审批人、状态与评语、创建与更新时间戳为核心属性，确保每一次决策都有迹可循。用户与部门以及类别实体分别提供角色、归属与分类维度上的基础建模，便于在授权与筛选场景中进行准确匹配。接口设计方面，系统提供查询物资、新增物资、借用申请、归还处理、审批决策与历史查询等常用端点，并采用统一的响应结构，以代码与消息与数据三段式形式返回结果，错误场景则以明确的错误码与提示文本供客户端进行精确处理。

关键用户流程的设计以直观与可审计为原则。用户进入应用后，首先在物资看板进行浏览与检索，使用关键词或类别与状态条件筛选以快速定位目标物资，并在详情页查看图片、规格、库存与位置等信息。如果需要借用，用户在详情页发起借用申请，填写用途与预计归还时间；系统根据角色与部门自动关联审批流，在审批中心等待管理员或指定审批人的处理。一旦审批通过，系统生成借用记录并修改物资状态，以便其他用户了解当前占用情况。在归还阶段，用户在借用记录中发起归还请求，拍照留存归还现场的图片，管理员进行验收并更新状态为已归还；若在验收中发现异常，系统引导用户或管理员将记录转入报修或报废流程，并补充备注与证据，以保障闭环管理。在盘点与异常处理环节，部门管理员根据盘点任务对物资进行核查，对缺失、损坏或状态不符的项目进行标注与上报，系统生成盘点报告供审计与整改使用，形成年度与专项核查的规范流程。

在部署与运行方案方面，Android 客户端建议使用最新稳定版的 Android Studio 进行开发与调试，选择 Kotlin 与 Gradle 的兼容版本，以确保构建与依赖管理的稳定性。应用支持 Android 7.0 以上的系统版本，模拟器访问后端时需要使用 10.0.2.2 指向宿主机的本地服务，真机联调时建议使用同一局域网内的服务器地址。在应用设置页可以填写或修改服务器地址，首次运行可以启用本地调试模式进行演示与自测；当切换为真实后端时，系统会自动切换到在线模式，与服务器进行数据同步。后端服务通过环境变量进行端口、数据库与日志目录等的配置，提供启动脚本与健康检查接口，并以结构化日志与滚动文件管理的方式输出运行信息，以便在联调与运维过程中进行定位与监控。为适应企业或校园网场景，推荐将后端部署在内网环境，并适当设置防火墙策略与反向代理，以保障带宽与安全。

安全与合规策略是系统设计的基础之一。认证与会话管理采用安全的登录与令牌策略，客户端尽量减少敏感信息的持久化保存，并明确定义会话的过期与续期规则，以降低被滥用或窃取的风险。授权模型同时考虑角色与部门两个维度，在关键敏感操作上引入审批或复核机制，确保权限边界清晰且行为留痕完整。数据保护遵循最小披露原则，无论在接口返回或日志输出中都减少与业务无关的敏感信息展示，对图片与附件进行必要的脱敏或访问控制。系统的合规留痕通过日志记录操作者、时间、对象与结果，从而在审计查询时能进行精确过滤与导出。对于逾期与异常以及频繁操作等风险场景，系统支持告警与阻断策略，必要时引入二次校验，以保证流程的稳健性与可控性。

性能与可靠性设计围绕用户体验与数据一致性展开。客户端在列表与详情数据上进行本地缓存与分页加载，以减少网络请求频率并提升界面响应速度。对于可重试的网络操作采用指数退避策略，以应对临时的网络波动；对于非关键数据采用降级展示，确保借用与归还等主流程不受影响。离线操作通过同步队列进行管理，网络恢复后自动提交并处理，冲突处理遵循服务器权威与客户端提示结合的原则，必要时引导人工复核，以避免误覆盖或信息丢失。在图片与媒体方面，系统使用适当的压缩与缩略策略，平衡清晰度与性能消耗；同时对借用与归还的关键指标进行监控，例如耗时与失败率等，为后续优化提供依据。

日志、监控与告警的体系贯穿客户端与后端。后端通过健康检查接口返回核心模块的运行状态与时间戳信息，为联调与诊断提供快捷入口；结构化日志采用模块化的归档策略，并按日期进行滚动管理，支持实时观察与查询，以便在出现问题时迅速定位。与逾期与异常相关的告警可以通过系统通知或邮件等渠道接入，在必要时进行催办与升级。客户端在调试构建中建议开启网络拦截器日志，以便开发者在问题排查时了解请求与响应的细节，同时避免在正式环境中记录过量的信息。

运维与发布流程建议遵循语义化版本管理以增强可追溯性，将重大变更、功能迭代与修复补丁清晰区分。在构建策略上，区分调试与正式版本，在调试版本开启网络日志与开发者工具，以便快速定位问题；在正式版本则尽量精简日志与监控开销，以保证性能。发布渠道可以采用企业内分发或应用商店的形式，遵循相应的权限声明与审核规范。每次发布应维护变更日志，记录功能、修复与影响范围，以便用户与运维团队准确理解版本差异并进行回溯。在运维过程中，配合后端的日志与监控体系，实现从客户端到服务器的闭环诊断，快速响应故障并减少停机时间。

测试与验收工作贯穿于需求分析、设计评审与开发自测之后，并在联调与灰度发布前进行综合性的验证。单元测试聚焦数据层与业务逻辑的关键函数与流程，确保模块在独立运行时的正确性。集成测试覆盖客户端与后端的联动，重点验证借用、归还与审批等主流程在不同网络状态下的行为。界面与可用性测试从用户视角评估关键界面的交互与表单验证以及异常提示的清晰度，确保用户在主流程中不会因细节问题受阻。性能测试关注列表加载、详情展示、图片上传与日志查询的响应时间，为后续优化提供量化依据。验收标准包括功能满足、稳定可用与安全合规三个维度，只有在这些标准均达成的情况下，版本方可上线或进入下一轮迭代。

里程碑与版本规划按照基础版、审批版、管理版与运营版的顺序推进。基础版聚焦台账、借还、历史与拍照存证能力，确保核心流程可用并在试运行中稳定运行。审批版将审批中心与流程配置落地，接入逾期告警与报表导出，以实现流程的可控与数据的可用。管理版引入部门管理、用户管理与权限细化，优化离线与同步策略，使系统在规模扩大与复杂度提升的情况下依然保持稳定。运营版则面向通知推送、运营看板与自助报修报废等主题，完善监控与数据隔离，以支撑企业级的运营与维护需要。每一个里程碑均包含需求分析、设计评审、开发自测、联调与灰度发布等环节，从而以稳健的节奏推进项目。

风险与应对策略围绕数据一致性、依赖环境、权限复杂度与审计要求展开。离线与并发写入容易引发冲突或覆盖风险，系统通过队列与冲突提示与人工复核进行控制；网络波动与后端不可达会导致联动失败，客户端在健康检查失败时降级为离线模式并提示用户，避免流程中断。跨部门与多角色的授权边界较为复杂，系统需要在管理界面呈现角色矩阵与授权范围，以便管理员进行审查与校准。随着合规与审计要求的提高，日志的粒度与导出能力也需要增强，系统会通过结构化日志、检索与导出流程进行标准化，满足稽核需求并为审计报告提供数据来源。

使用指南方面，首次使用者应按照开发环境要求安装与打开 Android 项目，进入应用的设置页填写服务器地址，模拟器场景下使用 10.0.2.2 指向宿主机。在初次接触或演示阶段，可以开启本地调试模式进行流程体验，待接入后端后自动切换到真实数据模式。核心流程的演示以浏览物资、发起借用申请、审批中心处理、借用成功、拍照归还与历史留痕为主线，帮助使用者快速建立对系统的整体认知。在出现无法连接后端或图片权限异常等问题时，应首先检查服务器地址与端口以及防火墙策略，并根据系统版本授权相机与图片读写权限。如果遇到数据不同步的问题，可以在网络恢复后等待自动同步，或者主动刷新以触发数据更新。

常见问题的解答可以帮助用户快速排除使用障碍。对于模拟器无法直接访问本机服务的问题，需要明确 Android 模拟器运行在虚拟环境之中，访问宿主机需要使用 10.0.2.2 地址映射，将请求正确路由到宿主机的后端服务。离线模式下用户能够进行台账浏览与历史缓存的查看，以及发起借还与归还等操作，这些操作会被入队等待网络恢复后自动同步，从而保障在弱网环境中依然能够完成关键流程。审批配置由管理员在后台或管理界面进行规则设定，可以根据不同类别与部门采用差异化流程，确保管理成本与风险控制之间的平衡。年度盘点由部门管理员创建任务并组织执行，在核查过程中记录异常项，并在系统中生成盘点报告进行导出，以便后续审计与整改。报修与报废流程与归还和盘点环节紧密相连，发现异常后可以在系统中转入相应流程，审批通过后更新状态并写入历史，构成可追溯的生命周期管理闭环。

术语的清晰定义有助于跨团队沟通。所谓台账，是指对资产或物资进行统一信息记录与维护的集合，覆盖从基础属性到状态变更与历史留痕。借还是物资借出与归还的业务流程，强调申请、审批与验收等环节的规范性。审批是对关键敏感操作进行授权与确认的流程机制，通过角色与部门的边界设定实现可控性。留痕是在系统中记录操作的时间、操作者、对象与结果，以备审计与合规需要。盘点是周期性或专项的资产核查行为，旨在发现与纠正台账与实物之间的偏差。逾期是指未在预计时间内完成归还或处理的状态，需要通过提醒与升级机制进行管理与控制。

未来扩展与生态方面，系统将逐步引入通知推送与邮件提醒机制，以提升逾期与审批环节的触达效率；在报表方面，支持自定义指标与图表，并提供多维数据透视与导出能力，以满足管理与审计的多样化需求。流程的配置化是提升系统适应性的关键方向之一，未来将考虑提供可视化的流程设计器，使管理员能够以低代码的方式搭建复杂审批与分支策略。多端协同也是生态扩展的重要维度，系统将引入 Web 与桌面端管理界面，覆盖不同使用场景，为大型组织提供综合管理能力。与第三方系统的集成，例如企业身份管理、工单系统与财务资产模块，将进一步实现数据的贯通与流程的闭环，增强系统在企业数字化体系中的价值。

在结语部分，我们希望强调 EquipTrack 项目的务实取向与持续演进路线。系统聚焦规范化、可审计与可扩展三个核心目标，在交付初期提供完整的台账与借还闭环，并逐步完善审批、报表与监控，为组织提供稳定可靠的资产与物资管理能力。本文档采用自然段分段的叙述方式，覆盖从目标到落地策略的各个方面，既服务于首版交付，也为后续版本规划与运维升级提供参考。对于希望按部门或行业进行定制化的用户，可以在保持核心模型与流程不变的前提下，对字段、报表与审批规则进行增补，并通过环境配置与权限矩阵进行落地。我们欢迎各方贡献与反馈，以共同完善系统与生态，使 EquipTrack 在更广泛的应用场景中发挥价值。